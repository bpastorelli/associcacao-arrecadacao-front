<section class="content-header">

  <section class="content">

  <form #form="ngForm" novalidate>
    <div class="row">
      <div class="col-xs-12">
        <h2 class="page-header">
          <i></i> Pesquisar Residência
        </h2>
      </div>
    </div>

    <div class="col-sm-2 col-xs-6">
      <div class="form-group">
        <label class="control-label sr-only" for="inputSuccess"><i class="fa fa-check"></i> Matrícula</label>
        <input type="text" class="form-control" #matriculaPesquisa id="inputMatriculaPesquisa" placeholder="Matrícula">
      </div>
    </div>

    <div class="col-sm-4 col-xs-6">
      <div class="form-group">
        <label class="control-label sr-only" for="inputSuccess"><i class="fa fa-check"></i> Endereço</label>
        <input type="text" class="form-control" #enderecoPesquisa id="inputEnderecoPesquisa"  placeholder="Endereço">
      </div>
    </div>

    <div class="col-sm-2 col-xs-6">
      <div class="form-group">
        <label class="control-label sr-only" for="inputSuccess"><i class="fa fa-check"></i> Número</label>
        <input type="text" class="form-control" #numeroPesquisa id="inputNumeroPesquisa"  placeholder="Número">
      </div>
    </div>

    <div class="col-sm-1 col-xs-2">
      <button (click)="getResidencias(0, matriculaPesquisa.value, enderecoPesquisa.value, numeroPesquisa.value)" class="btn btn-success pull-right"><i></i> Pesquisar
      </button>
    </div>

    <section class="content">
        <table class="table-striped">
          <thead>
            <tr>
                <th><span>ID</span></th>
                <th>Matrícula</th>
                <th>Endereço</th>
                <th>Número</th>
                <th>Complemento</th>
                <th>Bairro</th>
                <th>CEP</th>
                <th>Cidade</th>
                <th>UF</th>
                <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let residencia of residencias | paginate: { itemsPerPage: contador, currentPage: pag }">
              <td class="textCenter"><div class="pointer" (click)="editResidencia(residencia.id)">{{ formatId(residencia.id, 6) }}</div></td>
              <td class="textCenter"><div class="pointer" (click)="editResidencia(residencia.id)">{{ residencia.matricula }}</div></td>
              <td><div class="pointer" (click)="editResidencia(residencia.id)">{{ residencia.endereco }}</div></td>
              <td class="textCenter"><div class="pointer" (click)="editResidencia(residencia.id)">{{ residencia.numero }}</div></td>
              <td><div class="pointer" (click)="editResidencia(residencia.id)">{{ residencia.complemento }}</div></td>
              <td><div class="pointer" (click)="editResidencia(residencia.id)">{{ residencia.bairro }}</div></td>
              <td class="textCenter"><div class="pointer" (click)="editResidencia(residencia.id)">{{ residencia.cep }}</div></td>
              <td><div class="pointer" (click)="editResidencia(residencia.id)">{{ residencia.cidade }}</div></td>
              <td class="textCenter"><div class="pointer" (click)="editResidencia(residencia.id)">{{ residencia.uf }}</div></td>
              <td class="textCenter"><div class="pointer" (click)="incluirMorador(residencia.id)"> + Morador</div></td>
            </tr>
          </tbody>
        </table>
        <!--inclindo o controle de paginação.-->
        <div style="padding: 20px;">
          <div class="text-right">
            <pagination-controls class="pointer" (pageChange)="pageChanged($event)"
              previousLabel="Anterior"
              nextLabel="Próximo"></pagination-controls>
          </div>
        </div>
    </section>
  </form>
</section>

